# Copyright (c) 2023 Taru Haapala
# Copyright (c) 2023 Jukka Valvanne

#:kivy 2.2.0

# Harjotteille näkymä
<Exercise>:
    name:"exercise"

    Image:
        source:"images/tausta-lehdet.png"
        fit_mode: "fill"
        
    MDLabel: # ensimmäsen audion tiedot
        player_num: 1
        text: root.sdict[self.player_num - 1]['name']
        theme_text_color: "Custom"
        text_color:0,0,0,1
        font_style:"Subtitle2"
        font_size:"20sp"
        # labelin sijainti sovelluksessa suhteutettuna ohjelman kokoon
        pos_hint:{"x":0.40,"top":1.45}
    
    MDIconButton:
        player_num: 1
        id:play_one
        disabled:False
        icon:"play-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.08,"top":0.965}
        on_release:root.play_audio(self.player_num) #kutsuu play_audio funktiota exercice.py:stä

    MDIconButton:
        id: stop_one
        icon:"stop-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.20,"top":0.965}
        disabled: True
        on_release:root.stop_audio() #kutsuu stop_audio funktiota exercice.py:stä
    
    MDProgressBar:
        player_num: 1
        pos_hint:{"center_x":0.62,"center_y":0.90}
        size_hint_x: 0.43
        color: 163/255, 102/255, 28/255, 1
        max: root.sdict[self.player_num-1]['length']
        value:root.bar_progress1

    MDLabel:
        text:root.timer1 # hakee tiedot exercise.py:n timer1 kohdasta, vaatii string, muodon
        pos_hint:{"x":0.26,"top":1.40}

    MDLabel:
        player_num: 1
        text: root.sdict[self.player_num-1]['time']
        pos_hint:{"x":0.86,"top":1.40}
    
    MDLabel: # toisen audion tiedot
        player_num: 2
        text: root.sdict[self.player_num - 1]['name']
        theme_text_color: "Custom"
        text_color:0,0,0,1
        font_style:"Subtitle2"
        font_size:"20sp"
        pos_hint:{"x":0.40,"top":1.30}
    
    MDIconButton:
        player_num: 2
        id:play_two
        disabled:False
        icon:"play-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.08,"top":0.815}
        on_release:root.play_audio(self.player_num) #kutsuu play_audio funktiota exercice.py:stä

    MDIconButton:
        id: stop_two
        icon:"stop-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.20,"top":0.815}
        disabled: True
        on_release:root.stop_audio() 
    
    MDProgressBar:
        player_num: 2
        pos_hint:{"center_x":0.62,"center_y":0.75}
        size_hint_x: 0.43
        color: 163/255, 102/255, 28/255, 1
        max: root.sdict[self.player_num-1]['length']
        value:root.bar_progress2

    MDLabel:
        text:root.timer2 
        pos_hint:{"x":0.26,"top":1.25}

    MDLabel:
        player_num: 2
        text: root.sdict[self.player_num-1]['time']
        pos_hint:{"x":0.86,"top":1.25}
        
    MDLabel: # kolmannen audion tiedot
        player_num: 3
        text: root.sdict[self.player_num - 1]['name']
        theme_text_color: "Custom"
        text_color:0,0,0,1
        font_style:"Subtitle2"
        font_size:"20sp"
        pos_hint:{"x":0.40,"top":1.15}
    
    MDIconButton:
        player_num: 3
        id:play_three
        disabled:False
        icon:"play-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.08,"top":0.665}
        on_release:root.play_audio(self.player_num) #kutsuu play_audio funktiota exercice.py:stä

    MDIconButton:
        id: stop_three
        icon:"stop-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.20,"top":0.665}
        disabled: True
        on_release:root.stop_audio() 
    
    MDProgressBar:
        player_num: 3
        pos_hint:{"center_x":0.62,"center_y":0.60}
        size_hint_x: 0.43
        color: 163/255, 102/255, 28/255, 1
        max: root.sdict[self.player_num-1]['length']
        value:root.bar_progress3

    MDLabel:
        text:root.timer3 
        pos_hint:{"x":0.26,"top":1.10}

    MDLabel:
        player_num: 3
        text: root.sdict[self.player_num-1]['time']
        pos_hint:{"x":0.86,"top":1.10}
    
    MDLabel: # testi audion tiedot
        player_num: 4
        text: root.sdict[self.player_num - 1]['name']
        theme_text_color: "Custom"
        text_color:0,0,0,1
        font_style:"Subtitle2"
        font_size:"20sp"
        pos_hint:{"x":0.40,"top":1}
    
    MDIconButton:
        player_num: 4
        id:play_four
        disabled:False
        icon:"play-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.08,"top":0.510}
        on_release:root.play_audio(self.player_num) #kutsuu play_audio funktiota exercice.py:stä

    MDIconButton:
        id: stop_four
        icon:"stop-circle-outline"
        icon_size:"48dp"
        pos_hint:{"center_x":0.20,"top":0.510}
        disabled: True
        on_release:root.stop_audio() 
    
    MDProgressBar:
        player_num: 4
        pos_hint:{"center_x":0.62,"center_y":0.45}
        size_hint_x: 0.43
        color: 163/255, 102/255, 28/255, 1
        max: root.sdict[self.player_num-1]['length']
        value:root.bar_progress4

    MDLabel:
        text:root.timer4
        pos_hint:{"x":0.26,"top":0.95}

    MDLabel:
        player_num: 4
        text: root.sdict[self.player_num-1]['time']
        pos_hint:{"x":0.86,"top":0.95}

